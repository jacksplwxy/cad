import{d as t,o as e,a as n,e as a,p as i,f as o,b as r,_ as l}from"./index-CBIm98R_.js";let s,d=0;const c=document.createElement("span");c.style.position="fixed",c.style.right="10px",c.style.top="0",c.style.fontSize="32px",c.style.color="red",document.body.appendChild(c),window.requestAnimationFrame((function loop(t){s?(d++,t-s>=1e3&&(!function showFPS(t){setTimeout((()=>{c.innerHTML=t}))}(d),s=t,d=0)):s=t,window.requestAnimationFrame(loop)}));const h=[(t=>(i("data-v-b6ad6456"),t=t(),o(),t))((()=>a("canvas",{width:"400",height:"400"},null,-1)))],u=l(t({__name:"index",setup:t=>(e((()=>{const t=document.querySelector("canvas"),e=t.width,n=t.height,a=10,i=12,o=t.getContext("2d");function getRandPos(t,e,n){function getRandInt(t,e){return t=Math.floor(t),e=Math.ceil(e),Math.floor(Math.random()*(e-t+1)+t)}return{x:getRandInt(0+n,t-n),y:getRandInt(0+n,e-n)}}const r=new Array(5e3);for(let s=0;s<r.length;s++)r[s]=getRandPos(e,n,a);function drawGreenBalls(t){o.fillStyle="#519D36";for(let e=0;e<t.length;e++){o.beginPath();const{x:n,y:i}=t[e];o.arc(n,i,a,0,2*Math.PI),o.fill(),o.stroke(),o.closePath()}}let l;function drawRedBall(t,e){o.fillStyle="red",o.beginPath(),o.arc(t,e,i,0,2*Math.PI),o.fill(),l={x:t,y:e,radius:i}}function isRectIntersect(t,e){return t.x<=e.x+e.width&&t.x+t.width>=e.x&&t.y<=e.y+e.height&&t.height+t.y>=e.y}function getCircleBBox(...t){return function getRectBBox(...t){const e=t[0];let n=e.x,a=e.y,i=n+e.width,o=a+e.height;for(let r=1,l=t.length;r<l;r++){const e=t[r];e.x<n&&(n=e.x),e.y<a&&(a=e.y);const l=e.x+e.width;l>i&&(i=l);const s=e.y+e.height;s>o&&(o=s)}return{x:n,y:a,width:i-n,height:o-a}}(...t.map((t=>{const{x:e,y:n,radius:a}=t,i=2*a;return{x:e-a,y:n-a,width:i,height:i}})))}t.addEventListener("mousemove",(t=>{!function partRender(t,e){const n=getCircleBBox(l,{x:t,y:e,radius:i}),s=[];for(let i=0;i<r.length;i++){const{x:t,y:e}=r[i];isRectIntersect(getCircleBBox({x:t,y:e,radius:a+1}),n)&&s.push({x:t,y:e})}o.clearRect(n.x,n.y,n.width,n.height),o.save(),o.beginPath(),o.rect(n.x,n.y,n.width,n.height),o.clip(),drawGreenBalls(s),drawRedBall(t,e),o.restore()}(t.clientX,t.clientY)})),drawGreenBalls(r),drawRedBall(100,100)})),(t,e)=>(r(),n("div",null,h)))}),[["__scopeId","data-v-b6ad6456"]]);export{u as default};
